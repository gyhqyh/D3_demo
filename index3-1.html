<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>散点图</title>
    <style>
        .axis line, .axis path {
           fill: none;
           stroke: black;
           stroke-opacity: 0.6;
        }
        .axis text {
            font-size: 12px;
        }
    </style>
</head>
<body>
<button id='update'>update</button>
<button id='add'>add/button>
<button id='del'>del</button>
</body>
<script>
    window.onload = function () {
        console.log(d3)
     
       let width = 400;
       let height = 400;
       let p = {t: 20, r: 20, b: 30, l: 30}
       let data = [[0.11, 0.32], [0.5,0.5], [0.7,0.8], [0.4,0.9], [0.88,0.25], [0.75, 0.12], [0.2,0.3],[0.4,0.1]];
       let xScale = d3.scale.linear()
                        .domain([0, 1.2 * d3.max(data, function (d) {return d[0]})])
                        .range([0, width])
       let yScale = d3.scale.linear()
                        .domain([0, 1.2 * d3.max(data, function (d) {return d[1]})])
                        .range([0, height])
       console.log(xScale(0.11), 17, xScale)
       let svg = d3.select('body')
                    .append('svg')
                    .attr('width', width + p.l + p.r)
                    .attr('height', height + p.b + p.t)
       svg.selectAll('.item')
            .data(data)
            .enter()
            .append('circle')
            .attr('class', 'item')
            .attr('cx', function (d, i) {return p.l + xScale(d[0])})
            .attr('cy', function (d, i) {return p.t + height - yScale(d[1])})
            .attr('r', 5)
            .attr('style', 'fill: grey')
       let xAxis = d3.svg.axis()
                    .scale(xScale)
                    .orient('bottom')
       svg.append('g')
            .attr('class', 'axis')
            .attr('transform', 'translate(' + p.l + ',' + (p.t + height) + ')')
            .call(xAxis)
       yScale.range([height, 0])
       let yAxis = d3.svg.axis()
                    .scale(yScale)
                    .orient('left')
       svg.append('g')
            .attr('class', 'axis')
            .attr('transform', 'translate(' + p.l + ',' + p.t + ')')
            .call(yAxis)
       document.getElementById('update').onclick = function () {
           
            draw();
       }
       document.getElementById('add').onclick = function () {
        
         
           draw();
       }
       document.getElementById('del').onclick = function () {
        
           draw();
       }
     }
</script>
<script src="https://cdn.bootcss.com/d3/3.5.17/d3.js"></script>
</html>